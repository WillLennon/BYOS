Examples to create a VMSS with a custom OS disk size of 200gb and custom OS image.

1. Create a VM with capacity for 200GB OS drive. In this example, use a publicly available Windows 2019 image:
    az vm create --resource-group <myResourceGroup> --name <MyVM> --image Win2019DataCenter --os-disk-size-gb 200  --admin-username myUserName --admin-password myPassword
    
2. Remote Desktop to the VM's public IP address to customize the image.

   2a. [Optional, Windows] Extend the OS disk size to your specified disk size
       Open DiskPart tool as administrator and run these DiskPart commands:
          list volume  (to see the volumes)
          select volume 2 (depends on which volume is the OS drive)
          extend size=62000 (to extend the drive by 62 GiB)
       Reboot the VM
          
   2b. [Optional] Install desired software on the VM
   
   2c. Generalize the VM.  
       [Windows] From an admin console window, run: C:\Windows\System32\sysprep\sysprep.exe /generalize /oobe /shutdown
       [Linux] sudo waagent -deprovision+user -force
       
   VERY IMPORTANT! Wait for the VM to finish generalization and shutdown the VM! Allow 30+ minutes.
   Do not proceed until the VM is stopped.
   
3. Deallocate the VM
     az vm deallocate --resource-group <myResourceGroup> --name <MyVM>
     
4. Mark the VM as Generalized:
     az vm generalize --resource-group <myResourceGroup> --name <MyVM>

5. Create a VM Image based on the generalized image:
     az image create  --resource-group <myResourceGroup> --name <MyImage> --source <MyVM>

6. Create the scaleset based on the custom VM image:
     az vmss create --resource-group <myResourceGroup> --name <myScaleSet> --image <MyImage> --admin-username <myUsername> --admin-password <myPassword> --instance-count 2 --disable-overprovision --upgrade-policy-mode manual --load-balancer '""'
     
7.  Verify that both VMs created in the scaleset come online, have different names,  and reach the Succeeded state
